# encoding: utf-8
# Copyright (c) 2016 Nathan Currier

language: ruby
rvm:
  - ruby-head
  - rbx-3

bundler_args: --without lint --jobs=3 --retry=3
cache: bundler

gemfile: gemfiles/Gemfile.ci
before_install:
  - gem update --system
  - gem install bundler
script: bundle exec rake ci

matrix:
  include:
    - rvm: 2.2
      gemfile: gemfiles/Gemfile.doc
      script:
        - if [ $TRAVIS_PULL_REQUEST == "false" ]; then bundle exec rake yard yard:deploy; fi
sudo: false
